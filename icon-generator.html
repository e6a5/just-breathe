<!DOCTYPE html>
<html>
<head>
    <title>Icon Generator</title>
</head>
<body>
    <h1>Icon Generator</h1>
    <p>Generating PNG icons from SVG...</p>
    
    <div id="output"></div>
    
    <script>
        const sizes = [72, 96, 128, 144, 152, 192, 384, 512];
        const output = document.getElementById('output');
        
        async function generateIcons() {
            try {
                // Load the SVG
                const response = await fetch('src/icons/icon.svg');
                const svgText = await response.text();
                
                // Create a blob URL for the SVG
                const blob = new Blob([svgText], { type: 'image/svg+xml' });
                const svgUrl = URL.createObjectURL(blob);
                
                // Create an image element
                const img = new Image();
                img.onload = function() {
                    sizes.forEach(size => {
                        generateIcon(img, size);
                    });
                };
                img.src = svgUrl;
                
            } catch (error) {
                output.innerHTML = '<p>Error: ' + error.message + '</p>';
            }
        }
        
        function generateIcon(img, size) {
            const canvas = document.createElement('canvas');
            canvas.width = size;
            canvas.height = size;
            const ctx = canvas.getContext('2d');
            
            // Draw the SVG at the specified size
            ctx.drawImage(img, 0, 0, size, size);
            
            // Convert to PNG data URL
            const pngDataUrl = canvas.toDataURL('image/png');
            
            // Create download link
            const link = document.createElement('a');
            link.download = `icon-${size}x${size}.png`;
            link.href = pngDataUrl;
            link.textContent = `Download ${size}x${size}`;
            link.style.display = 'block';
            link.style.margin = '10px';
            
            output.appendChild(link);
            
            // Also show preview
            const preview = document.createElement('img');
            preview.src = pngDataUrl;
            preview.style.width = '64px';
            preview.style.height = '64px';
            preview.style.margin = '5px';
            preview.style.border = '1px solid #ccc';
            output.appendChild(preview);
        }
        
        // Start generating icons
        generateIcons();
    </script>
</body>
</html>
